{"version":3,"sources":["assets/images/pieces/line.svg","assets/images/pieces/curve.svg","assets/images/pieces/bridge.svg","assets/images/pieces/switch.svg","constants/assetsMap.js","components/Piece.jsx","views/Board.jsx","store/actions/board.js","store/types/board.js","views/App.jsx","store/reducers/board.js","store/reducers/index.js","store/index.js","index.js"],"names":["module","exports","PIECES","line","linePiece","curve","curvePiece","bridge","bridgePiece","switch","switchPiece","Piece","props","showWheel","setState","wheel","hideWheel","setSelection","type","tempType","saveSelection","state","rotate","tempRotate","setRotation","rotation","Math","abs","this","className","Object","keys","map","key","idx","onClick","src","icon","faUndo","faTimes","Component","Board","board","initBoard","rows","columns","style","width","Array","parseInt","_","i","j","flex","x","y","mapDispatchToProps","dispatch","getState","config","defaultPiece","occupied","matrix","payload","setBoard","fill","connect","setRows","setColumns","pattern","value","onChange","e","target","initialState","reducers","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.9aed6a9b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/line.2e3e852f.svg\";","module.exports = __webpack_public_path__ + \"static/media/curve.e4a33090.svg\";","module.exports = __webpack_public_path__ + \"static/media/bridge.2b4139f0.svg\";","module.exports = __webpack_public_path__ + \"static/media/switch.90588404.svg\";","import linePiece from 'images/pieces/line.svg';\nimport curvePiece from 'images/pieces/curve.svg';\nimport bridgePiece from 'images/pieces/bridge.svg';\nimport switchPiece from 'images/pieces/switch.svg';\n\nexport const PIECES = {\n  line: linePiece,\n  curve: curvePiece,\n  bridge: bridgePiece,\n  switch: switchPiece\n};\n\nexport default PIECES;\n","import React, { Component } from 'react';\nimport PIECES from 'constants/assetsMap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUndo, faTimes } from '@fortawesome/free-solid-svg-icons';\n\nexport class Piece extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rotate: props.rotate ? props.rotate : 0,\n      tempType: props.type,\n      tempRotate: props.rotate ? props.rotate : 0,\n      type: props.type ? props.type : 'placeholder',\n      wheel: false\n    };\n  }\n\n  showWheel = () => this.setState({ wheel: true });\n\n  hideWheel = () => this.setState({ wheel: false });\n\n  setSelection = type => this.setState({ tempType: type });\n\n  saveSelection = () =>\n    this.setState(state => ({\n      rotate: state.tempRotate,\n      type: state.tempType,\n      wheel: false\n    }));\n\n  setRotation = rotation => {\n    this.setState(state => ({\n      tempRotate: Math.abs(state.rotate + rotation) === 360 ? 0 : state.tempRotate + rotation\n    }));\n  };\n\n  render() {\n    const {\n      state: { rotate, tempType, tempRotate, type, wheel }\n    } = this;\n\n    return (\n      <div className={`piece piece-${type} ${wheel ? 'show-wheel' : ''}`}>\n        <div className={'selection-wheel'}>\n          {Object.keys(PIECES).map((key, idx) => {\n            return (\n              <div\n                key={idx}\n                className={`quadrant quadrant-${idx}`}\n                onClick={() => this.setSelection(key)}\n              >\n                <img src={PIECES[key]} />\n              </div>\n            );\n          })}\n          <div className={'selection-preview'} onClick={() => this.saveSelection()}>\n            {tempType && <img className={`rotate-${tempRotate}`} src={PIECES[tempType]} />}\n          </div>\n          <div className={'selection-rotate-right'} onClick={() => this.setRotation(90)}>\n            <FontAwesomeIcon icon={faUndo} />\n          </div>\n          <div className={'selection-rotate-left'} onClick={() => this.setRotation(-90)}>\n            <FontAwesomeIcon icon={faUndo} />\n          </div>\n          <div className={'selection-close'} onClick={() => this.hideWheel()}>\n            <FontAwesomeIcon icon={faTimes} />\n          </div>\n        </div>\n        <div className={'piece-image'} onClick={() => this.showWheel()}>\n          {type && <img className={`rotate-${rotate}`} src={PIECES[type]} />}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Piece;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { initBoard } from 'store/actions/board';\nimport Piece from 'components/Piece';\n\nclass Board extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      board: []\n    };\n  }\n\n  componentDidMount() {\n    const {\n      props: { initBoard }\n    } = this;\n\n    initBoard();\n  }\n\n  render() {\n    const {\n      props: { rows, columns }\n    } = this;\n    return (\n      <div className={'game-board'} style={{ width: `calc(80px * ${columns})` }}>\n        {[...Array(parseInt(rows))].map((_, i) => {\n          return [...Array(parseInt(columns))].map((_, j) => {\n            return (\n              <div\n                className={`cell \n                ${j === columns - 1 ? 'right-edge' : ''} \n                ${i === rows - 1 ? 'bottom-edge' : ''}`}\n                style={{ flex: `calc(100% / ${columns} - 1px) 0 0` }}\n                key={`cell-${i}${j}`}\n              >\n                <Piece\n                  x={i}\n                  y={j}\n                />\n              </div>\n            );\n          });\n        })}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = { initBoard };\n\nexport default connect(null, mapDispatchToProps)(Board);\n","import { SET_BOARD, SET_ROWS, SET_COLUMNS } from 'store/types/board';\n\nexport const setRows = rows => ({ type: SET_ROWS, payload: rows });\nexport const setColumns = columns => ({ type: SET_COLUMNS, payload: columns });\nexport const setBoard = matrix => ({ type: SET_BOARD, payload: matrix });\n\nexport const initBoard = () => (dispatch, getState) => {\n  const {\n    board: {\n      config: { rows, columns }\n    }\n  } = getState();\n\n  const defaultPiece = {\n    occupied: false,\n    type: '',\n    rotation: 0\n  };\n\n  const matrix = new Array(rows).fill(0).map(() => new Array(columns).fill({ ...defaultPiece }));\n  dispatch(setBoard(matrix));\n};\n","export const SET_BOARD = 'SET_BOARD';\nexport const SET_COLUMNS = 'SET_COLUMNS';\nexport const SET_ROWS = 'SET_ROWS';","import React from 'react';\nimport { connect } from 'react-redux';\nimport { setColumns, setRows } from 'store/actions/board';\nimport Board from 'views/Board';\n\nfunction App({ rows, columns, setRows, setColumns }) {\n  return (\n    <div className=\"App\">\n      <div className={'controls'}>\n        <label>{'Rows:'}</label>\n        <input\n          type={'number'}\n          pattern={'[0-9]*'}\n          value={rows}\n          onChange={e => setRows(e.target.value)}\n        />\n        <br />\n        <label>{'Columns:'}</label>\n        <input\n          type={'number'}\n          pattern={'[0-9]*'}\n          value={columns}\n          onChange={e => setColumns(e.target.value)}\n        />\n      </div>\n      <Board rows={rows} columns={columns} />\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  rows: state.board.config.rows,\n  columns: state.board.config.columns\n});\n\nconst mapDispatchToProps = {\n  setRows,\n  setColumns\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { SET_BOARD, SET_COLUMNS, SET_ROWS } from 'store/types/board';\n\nexport const initialState = {\n  config: {\n    rows: 8,\n    columns: 8\n  },\n  map: []\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_BOARD:\n      return { ...state, map: action.payload };\n\n    case SET_ROWS:\n      return { ...state, config: { ...state.config, rows: action.payload } };\n\n    case SET_COLUMNS:\n      return { ...state, config: { ...state.config, columns: action.payload } };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport boardReducer from './board';\n\nexport const reducers = combineReducers({\n  board: boardReducer\n});\n","import { applyMiddleware, createStore, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport { reducers } from './reducers';\n\n// dev tool\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'views/App';\nimport { Provider } from 'react-redux';\nimport 'styles/global.scss';\n\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}