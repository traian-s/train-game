{"version":3,"sources":["assets/images/pieces/line.svg","assets/images/pieces/curve.svg","assets/images/pieces/bridge.svg","assets/images/pieces/switch.svg","constants/assetsMap.js","components/Piece.jsx","views/Board.jsx","store/actions/board.js","store/types/board.js","views/App.jsx","store/reducers/board.js","store/reducers/index.js","store/index.js","index.js"],"names":["module","exports","PIECES","line","linePiece","curve","curvePiece","bridge","bridgePiece","switch","switchPiece","Piece","type","rotate","className","src","Board","props","state","board","initBoard","this","rows","columns","style","width","Array","parseInt","map","_","i","j","flex","key","Math","floor","random","Component","mapDispatchToProps","dispatch","getState","config","matrix","payload","setBoard","fill","occupied","connect","setRows","setColumns","pattern","value","onChange","e","target","initialState","reducers","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.39106534.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/line.2e3e852f.svg\";","module.exports = __webpack_public_path__ + \"static/media/curve.e4a33090.svg\";","module.exports = __webpack_public_path__ + \"static/media/bridge.2b4139f0.svg\";","module.exports = __webpack_public_path__ + \"static/media/switch.90588404.svg\";","import linePiece from 'images/pieces/line.svg';\nimport curvePiece from 'images/pieces/curve.svg';\nimport bridgePiece from 'images/pieces/bridge.svg';\nimport switchPiece from 'images/pieces/switch.svg';\n\nexport const PIECES = {\n  line: linePiece,\n  curve: curvePiece,\n  bridge: bridgePiece,\n  switch: switchPiece\n};\n\nexport default PIECES;\n","import React from 'react';\nimport PIECES from 'constants/assetsMap';\n\nexport const Piece = ({ type, rotate }) => {\n  return (\n    <div className={`piece piece-${type} rotate-${rotate}`}>\n      <img src={PIECES[type]} />\n    </div>\n  );\n};\n\nexport default Piece;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { initBoard } from 'store/actions/board';\nimport Piece from 'components/Piece';\n\nclass Board extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      board: []\n    };\n  }\n\n  componentDidMount() {\n    const {\n      props: { initBoard }\n    } = this;\n\n    initBoard();\n  }\n\n  render() {\n    const {\n      props: { rows, columns }\n    } = this;\n    return (\n      <div className={'game-board'} style={{ width: `calc(80px * ${columns})` }}>\n        {[...Array(parseInt(rows))].map((_, i) => {\n          return [...Array(parseInt(columns))].map((_, j) => {\n            return (\n              <div\n                className={`cell \n                ${j === columns - 1 ? 'right-edge' : ''} \n                ${i === rows - 1 ? 'bottom-edge' : ''}`}\n                style={{ flex: `calc(100% / ${columns} - 1px) 0 0` }}\n                key={`cell-${i}${j}`}\n              >\n                <Piece\n                  type={['line', 'curve', 'switch', 'bridge'][Math.floor(Math.random() * 4)]}\n                  rotate={[0, 90, 180, 270][Math.floor(Math.random() * 4)]}\n                />\n              </div>\n            );\n          });\n        })}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = { initBoard };\n\nexport default connect(null, mapDispatchToProps)(Board);\n","import { SET_BOARD, SET_ROWS, SET_COLUMNS } from 'store/types/board';\n\nexport const setRows = rows => ({ type: SET_ROWS, payload: rows });\nexport const setColumns = columns => ({ type: SET_COLUMNS, payload: columns });\nexport const setBoard = matrix => ({ type: SET_BOARD, payload: matrix });\n\nexport const initBoard = () => (dispatch, getState) => {\n  const {\n    board: {\n      config: { rows, columns }\n    }\n  } = getState();\n\n  const matrix = new Array(rows).fill(0).map(() => new Array(columns).fill({ occupied: false }));\n  dispatch(setBoard(matrix));\n};\n","export const SET_BOARD = 'SET_BOARD';\nexport const SET_COLUMNS = 'SET_COLUMNS';\nexport const SET_ROWS = 'SET_ROWS';","import React from 'react';\nimport { connect } from 'react-redux';\nimport { setColumns, setRows } from 'store/actions/board';\nimport Board from 'views/Board';\n\nfunction App({ rows, columns, setRows, setColumns }) {\n  return (\n    <div className=\"App\">\n      <div className={'controls'}>\n        <label>{'Rows:'}</label>\n        <input\n          type={'number'}\n          pattern={'[0-9]*'}\n          value={rows}\n          onChange={e => setRows(e.target.value)}\n        />\n        <br />\n        <label>{'Columns:'}</label>\n        <input\n          type={'number'}\n          pattern={'[0-9]*'}\n          value={columns}\n          onChange={e => setColumns(e.target.value)}\n        />\n      </div>\n      <Board rows={rows} columns={columns} />\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  rows: state.board.config.rows,\n  columns: state.board.config.columns\n});\n\nconst mapDispatchToProps = {\n  setRows,\n  setColumns\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { SET_BOARD, SET_COLUMNS, SET_ROWS } from 'store/types/board';\n\nexport const initialState = {\n  config: {\n    rows: 8,\n    columns: 8\n  },\n  map: []\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_BOARD:\n      return { ...state, map: action.payload };\n\n    case SET_ROWS:\n      return { ...state, config: { ...state.config, rows: action.payload } };\n\n    case SET_COLUMNS:\n      return { ...state, config: { ...state.config, columns: action.payload } };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport boardReducer from './board';\n\nexport const reducers = combineReducers({\n  board: boardReducer\n});\n","import { applyMiddleware, createStore, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport { reducers } from './reducers';\n\n// dev tool\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'views/App';\nimport { Provider } from 'react-redux';\nimport 'styles/global.scss';\n\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}