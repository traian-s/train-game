{"version":3,"sources":["assets/images/pieces/line.svg","assets/images/pieces/curve.svg","assets/images/pieces/bridge.svg","assets/images/pieces/switch.svg","assets/images/pieces/padure.svg","assets/images/pieces/gara.svg","components/MessageLog/MessageLog.module.scss","constants/pieces.js","constants/game.js","store/actions/game.js","store/types/game.js","store/actions/log.js","store/types/log.js","utils/gameHelpers.js","store/actions/board.js","store/types/board.js","constants/assetsMap.js","components/SelectionWheel.jsx","components/Piece.jsx","views/Board.jsx","components/MessageLog/MessageLog.jsx","views/App.jsx","store/reducers/board.js","store/reducers/game.js","store/reducers/log.js","store/reducers/index.js","store/index.js","index.js"],"names":["module","exports","PIECE_TYPES","bridge","type","connections","allowRotate","curve","line","switch","station","forest","DIRECTIONS","GAME_STAGE","FOREST","moves","piece","STATIONS","TRACKS","setGameStage","stage","payload","setActivePlayer","player","playerEndTurn","dispatch","getState","game","players","activeTurn","activeIdx","findIndex","p","id","turns","nextPlayer","allowed","executed","enableAllPieces","playerMakeMove","showLegalMoves","logMessage","message","fakeBoard","enabled","occupied","rotation","ownerId","isOnMap","gameMap","posX","posY","getAdjacentDirections","filter","_","idx","getAdjacentCells","map","x","y","disablePiece","board","parsedMoves","legalMoves","length","column","cell","getLegalMoves","el","join","PIECES","linePiece","curvePiece","bridgePiece","switchPiece","forestPiece","stationPiece","SelectionWheel","internalType","internalRotate","hideWheel","setSelection","saveSelection","setRotation","className","Object","keys","includes","key","onClick","src","icon","faUndo","faTimes","actionTypes","reducer","state","action","console","log","isEnabled","selectionWheel","Piece","cornerPiece","setPiece","useReducer","useEffect","Math","abs","mapDispatchToProps","initBoard","config","rows","columns","defaultPiece","matrix","setBoard","Array","fill","initPlayers","playerCount","parseInt","i","name","setPlayers","activePlayer","currentStage","currentType","currentRotation","connectionsCopy","reverse","times","push","shift","unshift","pop","rotateConnections","isLegal","errors","possibleConnections","reduce","acc","val","isLegalStationPlacement","err","adjacentSquares","padCount","j","getAdjacentSquares","square","connectionLegal","fromX","fromY","fromConnections","toX","toY","toConnections","isLegalConnection","every","legal","connectedCells","isLegalTrackPlacement","savePiece","connect","style","width","row","isCornerPiece","flex","messages","messageLog","styles","setRows","setColumns","pattern","value","onChange","e","target","initialState","count","reducers","combineReducers","assign","active","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.26355ea0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/line.2e3e852f.svg\";","module.exports = __webpack_public_path__ + \"static/media/curve.e4a33090.svg\";","module.exports = __webpack_public_path__ + \"static/media/bridge.2b4139f0.svg\";","module.exports = __webpack_public_path__ + \"static/media/switch.90588404.svg\";","module.exports = __webpack_public_path__ + \"static/media/padure.7a9c9b0c.svg\";","module.exports = __webpack_public_path__ + \"static/media/gara.830c43ab.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageLog\":\"_31afquc8zKJxVBgSbkIwG6\"};","// NORTH, EAST, SOUTH, WEST - CONNECTIONS ARE CLOCKWISE\n\nexport const PIECE_TYPES = {\n  bridge: {\n    type: 'bridge',\n    connections: [1, 1, 1, 1],\n    allowRotate: true\n  },\n  curve: {\n    type: 'curve',\n    connections: [1, 1, 0, 0],\n    allowRotate: true\n  },\n  line: {\n    type: 'line',\n    connections: [0, 1, 0, 1],\n    allowRotate: true\n  },\n  switch: {\n    type: 'switch',\n    connections: [1, 1, 0, 1],\n    allowRotate: true\n  },\n  station: {\n    type: 'station',\n    connections: [1, 1, 0, 1],\n    allowRotate: true\n  },\n  forest: {\n    type: 'forest',\n    connections: [0, 0, 0, 0],\n    allowRotate: false\n  }\n};\n\nexport const DIRECTIONS = ['NORTH', 'EAST', 'SOUTH', 'WEST'];\n\n// export Object.freeze(PIECE_TYPES);\n\n// export PIECE_TYPES;\n","import { PIECE_TYPES } from 'constants/pieces';\n\nexport const GAME_STAGE = {\n  FOREST: {\n    type: 'FOREST',\n    moves: 3,\n    piece: [PIECE_TYPES.forest.type]\n  },\n  STATIONS: {\n    type: 'STATIONS',\n    moves: 2,\n    piece: [PIECE_TYPES.station.type]\n  },\n  TRACKS: {\n    type: 'TRACKS',\n    moves: 1,\n    piece: [\n      PIECE_TYPES.bridge.type,\n      PIECE_TYPES.curve.type,\n      PIECE_TYPES.line.type,\n      PIECE_TYPES.switch.type\n    ]\n  }\n};\n","import { GAME_STAGE } from 'constants/game';\nimport {\n  SET_TURN,\n  SET_PLAYER_COUNT,\n  SET_PLAYERS,\n  SET_ACTIVE_PLAYER,\n  SET_GAME_STAGE,\n  PLAYER_MOVE_ADD\n} from 'store/types/game';\n\nimport { enableAllPieces, showLegalMoves } from 'store/actions/board';\n\nexport const setGameStage = stage => ({ type: SET_GAME_STAGE, payload: stage });\nexport const setPlayerCount = playerCount => ({ type: SET_PLAYER_COUNT, payload: playerCount });\nexport const setPlayers = players => ({ type: SET_PLAYERS, payload: players });\nexport const setActivePlayer = player => ({ type: SET_ACTIVE_PLAYER, payload: player });\nexport const playerMoveAdd = () => ({ type: PLAYER_MOVE_ADD });\n\nexport const changeGameStage = () => (dispatch, getState) => {\n  const {\n    game: {\n      turns: { stage }\n    }\n  } = getState();\n  stage === GAME_STAGE.FOREST && dispatch(setGameStage(GAME_STAGE.STATIONS));\n  stage === GAME_STAGE.STATIONS && dispatch(setGameStage(GAME_STAGE.TRACKS));\n};\n\nexport const playerEndTurn = () => (dispatch, getState) => {\n  const {\n    game: {\n      players,\n      activeTurn: { player }\n    }\n  } = getState();\n\n  const activeIdx = players.findIndex(p => p.id === player.id);\n  if (!players[activeIdx + 1]) dispatch(changeGameStage());\n  const {\n    game: {\n      turns: {\n        stage: { moves }\n      }\n    }\n  } = getState();\n\n  const nextPlayer = {\n    player: players[activeIdx + 1] ? players[activeIdx + 1] : players[0],\n    moves: { allowed: moves, executed: 0 }\n  };\n  dispatch(enableAllPieces());\n  dispatch(setActivePlayer(nextPlayer));\n};\n\nexport const initPlayers = () => (dispatch, getState) => {\n  const {\n    game: { playerCount }\n  } = getState();\n\n  const players = [...Array(parseInt(playerCount))].map((_, i) => ({\n    id: i + 1,\n    name: `Player ${i + 1}`\n  }));\n\n  dispatch(setPlayers(players));\n  dispatch(setGameStage(GAME_STAGE.STATIONS));\n  const activePlayer = {\n    player: { ...players[0] },\n    moves: { allowed: GAME_STAGE.STATIONS.moves, executed: 0 }\n  };\n  dispatch(setActivePlayer(activePlayer));\n};\n\nexport const playerMakeMove = () => (dispatch, getState) => {\n  const {\n    game: {\n      activeTurn: {\n        moves: { allowed, executed }\n      }\n    }\n  } = getState();\n\n  dispatch(playerMoveAdd());\n  if (executed + 1 === allowed) dispatch(playerEndTurn());\n  dispatch(showLegalMoves());\n};\n\nexport const setTurn = () => ({ type: SET_TURN });\n","export const NEXT_TURN = 'NEXT_TURN';\nexport const INIT_PLAYERS = 'INIT_PLAYERS';\nexport const SET_PLAYER_COUNT = 'SET_PLAYER_COUNT';\nexport const SET_PLAYERS = 'SET_PLAYERS';\nexport const SET_TURN = 'SET_PLAYER_TURN';\nexport const SET_ACTIVE_PLAYER = 'SET_ACTIVE_PLAYER';\nexport const SET_GAME_STAGE = 'SET_GAME_STAGE';\nexport const PLAYER_MAKE_MOVE = 'PLAYER_MAKE_MOVE';\nexport const PLAYER_MOVE_ADD = 'PLAYER_MOVE_ADD';\nexport const PLAYER_END_TURN = 'PLAYER_END_TURN';","import { LOG_MESSAGE } from 'store/types/log';\n\nexport const logMessage = message => ({ type: LOG_MESSAGE, payload: message });\n","export const LOG_MESSAGE = 'LOG_MESSAGE';\n","/* eslint-disable no-debugger */\n// export const isMatch = (pieceA, pieceB) => {};\nimport { DIRECTIONS } from 'constants/pieces';\n\nconst fakeBoard = [\n  [\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    }\n  ],\n  [\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      connections: [1, 1, 0, 1],\n      enabled: true,\n      ownerId: 2,\n      type: 'station',\n      rotation: 0\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      connections: [0, 1, 1, 1],\n      enabled: true,\n      ownerId: 1,\n      type: 'station',\n      rotation: -180\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    }\n  ],\n  [\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    }\n  ],\n  [\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    }\n  ],\n  [\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    }\n  ],\n  [\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    }\n  ],\n  [\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      connections: [1, 1, 0, 1],\n      enabled: true,\n      ownerId: 2,\n      type: 'station',\n      rotation: 0\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      connections: [1, 1, 0, 1],\n      enabled: true,\n      ownerId: 1,\n      type: 'station',\n      rotation: 0\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    }\n  ],\n  [\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    },\n    {\n      enabled: true,\n      occupied: false,\n      type: '',\n      rotation: 0,\n      connections: [],\n      ownerId: null\n    }\n  ]\n];\n\nexport const rotateConnections = (connections, rotation) => {\n  const connectionsCopy = [...connections];\n  const reverse = rotation < 0;\n  const times = Math.abs(rotation / 90);\n  for (let i = 0; i < times; i++) {\n    if (reverse) connectionsCopy.push(connectionsCopy.shift());\n    else connectionsCopy.unshift(connectionsCopy.pop());\n  }\n  return connectionsCopy;\n};\n\nexport const getAdjacentSquares = (posX, posY, rows, columns, padCount) => {\n  const adjacentSquares = [];\n  for (let i = posX - padCount; i <= posX + padCount; i++) {\n    for (let j = posY - padCount; j <= posY + padCount; j++) {\n      if (i >= 0 && i < rows && j >= 0 && j < columns) adjacentSquares.push([i, j]);\n    }\n  }\n  return adjacentSquares;\n};\n\n/**\n * Checks if provided cell belongs to the game map\n *\n * @param {object} cell a cell object\n * @param {object} gameMap a game map object\n *\n * @returns {boolean} True if cell is on the game map\n */\nexport const isOnMap = ({ posX, posY }, gameMap) => {\n  return typeof gameMap[posX] !== 'undefined' && typeof gameMap[posX][posY] !== 'undefined';\n};\n\n/**\n * Given a cell and a game map returns an array of [x, y] coordinates representing\n * cells that can be reached from the provided cell that are also on the map.\n * If connections is not provided it will assume it can connect to all cells.\n *\n * @param {number} posX X position of cell\n * @param {number} posY Y position of cell\n * @param {array} gameMap\n *\n * @returns {array} Returns array of legal directions\n */\nexport const getAdjacentDirections = ({ posX, posY, connections = [1, 1, 1, 1] }, gameMap) => {\n  if (!isOnMap({ posX, posY }, gameMap)) return null;\n  return [\n    [posX - 1, posY],\n    [posX, posY + 1],\n    [posX + 1, posY],\n    [posX, posY - 1]\n  ]\n    .filter((_, idx) => connections[idx] === 1)\n    .filter(([posX, posY]) => isOnMap({ posX, posY }, gameMap));\n};\n\n/**\n * Given a cell and a game map will return all adjacent cells that are on the map\n * If connections is provided then it will only return the cells that\n * can be reached considering connections. Otherwise returns all cells\n * regardless of connection\n *\n * @param {object} cell a cell object\n * @param {object} gameMap a gameMap object\n *\n * @returns {array} An array of cells or empty array\n */\nexport const getAdjacentCells = ({ posX, posY, connections = [1, 1, 1, 1] }, gameMap) => {\n  const directions = getAdjacentDirections({ posX, posY, connections }, gameMap);\n  return directions.map(([x, y]) => gameMap[x][y]) || [];\n};\n\nexport const isCellOccupied = ({ occupied }) => occupied !== false;\n\nexport const isLegalConnection = (\n  { posX: fromX, posY: fromY, connections: fromConnections },\n  { posX: toX, posY: toY, connections: toConnections }\n) => {\n  const direction = `${fromX - toX}${fromY - toY}`;\n  switch (direction) {\n    case '10': {\n      // Piece 1 is south of piece 2\n      return fromConnections[0] === toConnections[2];\n    }\n    case '0-1': {\n      // Piece 1 is west of piece 2\n      return fromConnections[1] === toConnections[3];\n    }\n    case '-10': {\n      // Piece 1 is north of piece 2\n      return fromConnections[2] === toConnections[0];\n    }\n    case '01': {\n      // Piece 1 is east of piece 2\n      return fromConnections[3] === toConnections[1];\n    }\n  }\n};\n\nexport const getLegalMoves = (gameMap, player) => {\n  // console.log(`getLegalMoves called with ${gameMap} ${player}`);\n  gameMap = gameMap || fakeBoard;\n  let legalMoves = [];\n  if (!gameMap.length || !player) return;\n  gameMap.map(column => {\n    column.map(cell => {\n      if (cell.ownerId === player) {\n        legalMoves = [...legalMoves, ...getAdjacentDirections(cell, gameMap)];\n      }\n    });\n  });\n\n  return legalMoves;\n};\n\nexport const isLegalStationPlacement = (posX, posY, rows, columns, connections) => {\n  let isLegal = true;\n  const errors = [];\n\n  const possibleConnections = [\n    [posX - 1, posY],\n    [posX, posY + 1],\n    [posX + 1, posY],\n    [posX, posY - 1]\n  ].reduce((acc, val) => {\n    const [x, y] = val;\n    return [...acc, +(0 <= x && x < rows && 0 <= y && y < columns)];\n  }, []);\n\n  connections.map((val, idx) => {\n    if (val === 1 && possibleConnections[idx] !== 1) {\n      errors.push(`Illegal Station Placement. ${DIRECTIONS[idx]} direction is blocked.`);\n      isLegal = false;\n    }\n  });\n\n  return { isLegal, errors };\n};\n\nexport const isLegalTrackPlacement = ({ posX, posY, connections }, gameMap) => {\n  // Must connect all adjacent tracks if any\n  // Must connect at least two squares that are on the game map\n\n  const adjacentCells = getAdjacentCells({ posX, posY }, gameMap);\n\n  // Map over all adjacent cells\n  // For occupied ones check if they have a connection into the current cell\n  // Then that connection must be satisfied by the current cell\n  const connectionLegal = adjacentCells\n    .filter(cell => cell.occupied)\n    .map(cell => isLegalConnection({ posX, posY, connections }, cell))\n    .every(legal => legal === true);\n\n  // Check if at least 2 of the connections are on the map\n  // A piece that directs only outside the map is not legal\n  const connectedCells = getAdjacentCells({ posX, posY, connections }, gameMap);\n  return connectionLegal && connectedCells.length >= 2;\n};\n","import {\n  SET_BOARD,\n  SET_ROWS,\n  SET_COLUMNS,\n  SET_PIECE,\n  SET_LEGAL_MOVES,\n  ENABLE_PIECE,\n  DISABLE_PIECE,\n  ENABLE_ALL_PIECES\n} from 'store/types/board';\nimport { playerMakeMove } from 'store/actions/game';\nimport { logMessage } from 'store/actions/log';\n\nimport { PIECE_TYPES } from 'constants/pieces';\nimport { GAME_STAGE } from 'constants/game';\n\nimport {\n  getAdjacentSquares,\n  getLegalMoves,\n  isLegalStationPlacement,\n  isLegalTrackPlacement,\n  rotateConnections\n} from 'utils/gameHelpers';\n\nexport const setRows = rows => ({ type: SET_ROWS, payload: rows });\nexport const setColumns = columns => ({ type: SET_COLUMNS, payload: columns });\nexport const setBoard = matrix => ({ type: SET_BOARD, payload: matrix });\nexport const setLegalMoves = moves => ({ type: SET_LEGAL_MOVES, payload: { moves } });\nexport const savePiece = (x, y, piece) => ({ type: SET_PIECE, payload: { x, y, piece } });\nexport const enableAllPieces = () => ({ type: ENABLE_ALL_PIECES });\nexport const enablePiece = (x, y) => ({ type: ENABLE_PIECE, payload: { x, y } });\nexport const disablePiece = (x, y) => ({ type: DISABLE_PIECE, payload: { x, y } });\n\nexport const initBoard = () => (dispatch, getState) => {\n  const {\n    board: {\n      config: { rows, columns }\n    }\n  } = getState();\n\n  const defaultPiece = {\n    enabled: true,\n    occupied: false,\n    ownerId: null,\n    type: '',\n    rotation: 0,\n    connections: []\n  };\n\n  const matrix = Array(rows)\n    .fill(null)\n    .map((_, posX) =>\n      Array(columns)\n        .fill(null)\n        .map((_, posY) => ({ ...defaultPiece, posX, posY }))\n    );\n\n  // const matrix = new Array(rows)\n  //   .fill(0)\n  //   .map((, posX) => new Array(columns).fill({ ...defaultPiece, posX: rows, posY: columns }));\n  dispatch(setBoard(matrix));\n};\n\nexport const setPiece = (posX, posY, type, rotation) => (dispatch, getState) => {\n  const {\n    game: {\n      activeTurn: {\n        player: { id }\n      },\n      turns: {\n        stage: { type: currentStage }\n      }\n    },\n    board: {\n      config: { rows, columns },\n      gameMap: {\n        [posX]: {\n          [posY]: { type: currentType, rotation: currentRotation }\n        }\n      },\n      gameMap\n    }\n  } = getState();\n\n  if (type === currentType && rotation === currentRotation) {\n    dispatch(logMessage(`No change registered.`));\n    return;\n  }\n\n  const connections = rotateConnections(PIECE_TYPES[type].connections, rotation);\n\n  if (currentStage === GAME_STAGE.STATIONS.type) {\n    const { isLegal, errors } = isLegalStationPlacement(posX, posY, rows, columns, connections);\n    if (!isLegal) {\n      errors.map(err => dispatch(logMessage(err)));\n      return;\n    }\n\n    const adjacentSquares = getAdjacentSquares(posX, posY, rows, columns, 2);\n    console.log(adjacentSquares);\n    adjacentSquares.map(square => {\n      dispatch(disablePiece(...square));\n    });\n  }\n\n  if (currentStage === GAME_STAGE.TRACKS.type) {\n    // We need to do something here...\n\n    const isLegal = isLegalTrackPlacement({ posX, posY, connections }, gameMap);\n    if (!isLegal) {\n      dispatch(logMessage(`Move is not legal.`));\n      return;\n    }\n  }\n\n  const piece = {\n    connections,\n    enabled: true,\n    occupied: true,\n    ownerId: id,\n    posX,\n    posY,\n    type,\n    rotation\n  };\n  dispatch(savePiece(posX, posY, piece));\n  dispatch(playerMakeMove());\n};\n\nexport const showLegalMoves = () => (dispatch, getState) => {\n  const {\n    board: { gameMap },\n    game: {\n      activeTurn: {\n        player: { id }\n      },\n      turns: {\n        stage: { type: stageType }\n      }\n    }\n  } = getState();\n\n  if (stageType !== GAME_STAGE.TRACKS.type) return;\n\n  const legalMoves = getLegalMoves(gameMap, id);\n  const parsedMoves = legalMoves.map(el => el.join());\n  if (parsedMoves.length) dispatch(setLegalMoves(parsedMoves));\n};\n","export const SET_BOARD = 'SET_BOARD';\nexport const SET_COLUMNS = 'SET_COLUMNS';\nexport const SET_ROWS = 'SET_ROWS';\nexport const SET_PIECE = 'SET_PIECE';\nexport const ENABLE_PIECE = 'ENABLE_PIECE';\nexport const SET_LEGAL_MOVES = 'SET_LEGAL_MOVES';\nexport const DISABLE_PIECE = 'DISABLE_PIECE';\nexport const ENABLE_ALL_PIECES = 'ENABLE_ALL_PIECES';\n","import linePiece from 'images/pieces/line.svg';\nimport curvePiece from 'images/pieces/curve.svg';\nimport bridgePiece from 'images/pieces/bridge.svg';\nimport switchPiece from 'images/pieces/switch.svg';\nimport forestPiece from 'images/pieces/padure.svg';\nimport stationPiece from 'images/pieces/gara.svg';\n\nexport const PIECES = {\n  line: linePiece,\n  curve: curvePiece,\n  bridge: bridgePiece,\n  switch: switchPiece,\n  forest: forestPiece,\n  station: stationPiece\n};\n\nexport default PIECES;\n","import React from 'react';\n\nimport PIECES from 'constants/assetsMap';\nimport { GAME_STAGE } from 'constants/game';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUndo, faTimes } from '@fortawesome/free-solid-svg-icons';\n\nexport const SelectionWheel = ({\n  allowRotate,\n  internalType,\n  internalRotate,\n  hideWheel,\n  setSelection,\n  saveSelection,\n  setRotation,\n  stage\n}) => (\n  <div className={'selection-wheel'}>\n    {Object.keys(PIECES)\n      .filter(piece => GAME_STAGE[stage].piece.includes(piece))\n      .map((key, idx) => {\n        return (\n          <div key={idx} className={`quadrant quadrant-${idx}`} onClick={() => setSelection(key)}>\n            <img src={PIECES[key]} />\n          </div>\n        );\n      })}\n    <div className={'selection-preview'} onClick={() => saveSelection()}>\n      {internalType && <img className={`rotate-${internalRotate}`} src={PIECES[internalType]} />}\n    </div>\n    {allowRotate && (\n      <>\n        <div className={'selection-rotate-right'} onClick={() => setRotation(90)}>\n          <FontAwesomeIcon icon={faUndo} />\n        </div>\n        <div className={'selection-rotate-left'} onClick={() => setRotation(-90)}>\n          <FontAwesomeIcon icon={faUndo} />\n        </div>\n      </>\n    )}\n    <div className={'selection-close'} onClick={() => hideWheel()}>\n      <FontAwesomeIcon icon={faTimes} />\n    </div>\n  </div>\n);\n","import React, { useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { SelectionWheel } from 'components/SelectionWheel';\n\nimport PIECES from 'constants/assetsMap';\nimport { PIECE_TYPES } from 'constants/pieces';\nimport { GAME_STAGE } from 'constants/game';\n\nconst actionTypes = {\n  SET_ALLOW_ROTATE: 'SET_ALLOW_ROTATE',\n  SET_TYPE: 'SET_TYPE',\n  SET_ROTATE: 'SET_ROTATE',\n  SET_DISABLED: 'SET_DISABLED',\n  SET_ENABLED: 'SET_ENABLED',\n  SHOW_SELECTION_WHEEL: 'SHOW_SELECTION_WHEEL',\n  HIDE_SELECTION_WHEEL: 'HIDE_SELECTION_WHEEL'\n};\n\nconst reducer = (state, action) => {\n  console.log(`${action.type} called with payload: ${action.payload}`);\n  switch (action.type) {\n    case actionTypes.SET_ALLOW_ROTATE:\n      return { ...state, allowRotate: action.payload };\n    case actionTypes.SET_TYPE:\n      return { ...state, internalType: action.payload };\n    case actionTypes.SET_ROTATE:\n      return { ...state, internalRotate: action.payload };\n    case actionTypes.SET_ENABLED:\n      return { ...state, isEnabled: true };\n    case actionTypes.SET_DISABLED:\n      return { ...state, isEnabled: false };\n    case actionTypes.SHOW_SELECTION_WHEEL:\n      return { ...state, selectionWheel: true };\n    case actionTypes.HIDE_SELECTION_WHEEL:\n      return { ...state, selectionWheel: false };\n  }\n};\n\nconst Piece = ({ cornerPiece, enabled, rotation, type, stage, posX, posY, setPiece }) => {\n  const [\n    { allowRotate, internalType, internalRotate, isEnabled, selectionWheel },\n    dispatch\n  ] = useReducer(reducer, {\n    allowRotate: false,\n    internalType: type,\n    internalRotate: rotation ? rotation : 0,\n    isEnabled: true,\n    selectionWheel: false\n  });\n\n  useEffect(() => {\n    if (cornerPiece === true && GAME_STAGE[stage] === GAME_STAGE.STATIONS)\n      dispatch({ type: actionTypes.SET_DISABLED });\n  }, [stage]);\n\n  const showWheel = () => (isEnabled ? dispatch({ type: actionTypes.SHOW_SELECTION_WHEEL }) : null);\n\n  const hideWheel = () => dispatch({ type: actionTypes.HIDE_SELECTION_WHEEL });\n\n  const setSelection = type => {\n    dispatch({ type: actionTypes.SET_TYPE, payload: type });\n    dispatch({ type: actionTypes.SET_ALLOW_ROTATE, payload: PIECE_TYPES[type].allowRotate });\n  };\n\n  const saveSelection = () => {\n    hideWheel();\n    setPiece(posX, posY, internalType, internalRotate);\n  };\n\n  const setRotation = rotation => {\n    dispatch({\n      type: actionTypes.SET_ROTATE,\n      payload: Math.abs(internalRotate + rotation) === 360 ? 0 : internalRotate + rotation\n    });\n  };\n\n  return (\n    <div\n      className={`piece piece-${type} ${enabled ? 'enabled' : 'disabled'} ${\n        selectionWheel ? 'show-wheel' : ''\n      }`}\n    >\n      <SelectionWheel\n        allowRotate={allowRotate}\n        hideWheel={hideWheel}\n        internalType={internalType}\n        internalRotate={internalRotate}\n        setSelection={setSelection}\n        saveSelection={saveSelection}\n        setRotation={setRotation}\n        stage={stage}\n      />\n      <div className={'piece-image'} onClick={() => showWheel()}>\n        {type && <img className={`rotate-${rotation}`} src={PIECES[type]} />}\n      </div>\n    </div>\n  );\n};\n\nPiece.propTypes = {\n  cornerPiece: PropTypes.bool.isRequired,\n  enabled: PropTypes.bool.isRequired,\n  rotation: PropTypes.number.isRequired,\n  type: PropTypes.oneOf([...Object.keys(PIECE_TYPES), '']).isRequired,\n  stage: PropTypes.oneOf([...Object.keys(GAME_STAGE), '']).isRequired,\n  posX: PropTypes.number.isRequired,\n  posY: PropTypes.number.isRequired,\n  setPiece: PropTypes.func.isRequired\n};\n\nexport default Piece;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { initBoard, setPiece } from 'store/actions/board';\nimport { initPlayers, playerMakeMove } from 'store/actions/game';\nimport Piece from 'components/Piece';\n\nconst Board = ({ board, rows, columns, stage, setPiece, initBoard, initPlayers }) => {\n  useEffect(() => {\n    initBoard();\n    initPlayers();\n  }, []);\n\n  return (\n    <div className={'game-board'} style={{ width: `calc(80px * ${columns})` }}>\n      {board.map((row, i) =>\n        row.map((cell, j) => {\n          const isCornerPiece =\n            (i == 0 && j == 0) ||\n            (i == rows - 1 && j == columns - 1) ||\n            (i == 0 && j == columns - 1) ||\n            (i == rows - 1 && j == 0);\n          return (\n            <div\n              className={`cell \n                ${j === columns - 1 ? 'right-edge' : ''} \n                ${i === rows - 1 ? 'bottom-edge' : ''}`}\n              style={{ flex: `calc(100% / ${columns} - 1px) 0 0` }}\n              key={`cell-${i}${j}`}\n            >\n              <Piece\n                cornerPiece={isCornerPiece}\n                posX={i}\n                posY={j}\n                setPiece={setPiece}\n                stage={stage}\n                {...cell}\n              />\n            </div>\n          );\n        })\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  board: state.board.gameMap,\n  stage: state.game.turns.stage.type\n});\n\nconst mapDispatchToProps = { initBoard, initPlayers, setPiece, playerMakeMove };\n\nBoard.propTypes = {\n  rows: PropTypes.number,\n  columns: PropTypes.number,\n  board: PropTypes.array,\n  initBoard: PropTypes.func,\n  initPlayers: PropTypes.func,\n  setPiece: PropTypes.func,\n  stage: PropTypes.object\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Board);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport styles from './MessageLog.module';\n\nconst MessageLog = ({ messages = [] }) => (\n  <ul className={styles.messageLog}>\n    {messages.map((message, idx) => (\n      <li key={idx}>{message}</li>\n    ))}\n  </ul>\n);\n\nMessageLog.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.string)\n};\n\nconst mapStateToProps = ({ messageLog: { messages } }) => ({ messages });\n\nexport default connect(mapStateToProps)(MessageLog);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { setColumns, setRows } from 'store/actions/board';\nimport Board from 'views/Board';\nimport MessageLog from 'components/MessageLog/MessageLog';\n\nfunction App({ rows, columns, setRows, setColumns, stage, activePlayer }) {\n  return (\n    <div className=\"App\">\n      <div className={'controls'}>\n        <label>{'Rows:'}</label>\n        <input\n          type={'number'}\n          pattern={'[0-9]*'}\n          value={rows}\n          onChange={e => setRows(e.target.value)}\n        />\n        <br />\n        <label>{'Columns:'}</label>\n        <input\n          type={'number'}\n          pattern={'[0-9]*'}\n          value={columns}\n          onChange={e => setColumns(e.target.value)}\n        />\n        <br />\n        <h3>Stage: {stage}</h3>\n        {activePlayer.player.name} make {activePlayer.moves.allowed - activePlayer.moves.executed}{' '}\n        moves\n      </div>\n      <MessageLog />\n      <Board rows={rows} columns={columns} />\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  rows: state.board.config.rows,\n  columns: state.board.config.columns,\n  stage: state.game.turns.stage.type,\n  activePlayer: state.game.activeTurn\n});\n\nconst mapDispatchToProps = {\n  setRows,\n  setColumns\n};\n\nApp.propTypes = {\n  rows: PropTypes.number,\n  columns: PropTypes.number,\n  setRows: PropTypes.func,\n  setColumns: PropTypes.func\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import {\n  SET_BOARD,\n  SET_COLUMNS,\n  SET_ROWS,\n  SET_PIECE,\n  ENABLE_PIECE,\n  DISABLE_PIECE,\n  SET_LEGAL_MOVES,\n  ENABLE_ALL_PIECES\n} from 'store/types/board';\n\nexport const initialState = {\n  config: {\n    rows: 8,\n    columns: 8\n  },\n  gameMap: []\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_BOARD:\n      return { ...state, gameMap: action.payload };\n\n    case SET_ROWS:\n      return { ...state, config: { ...state.config, rows: action.payload } };\n\n    case SET_COLUMNS:\n      return { ...state, config: { ...state.config, columns: action.payload } };\n\n    case SET_PIECE:\n      return {\n        ...state,\n        gameMap: Object.assign([...state.gameMap], {\n          [action.payload.x]: Object.assign([...state.gameMap[action.payload.x]], {\n            [action.payload.y]: {\n              ...action.payload.piece\n            }\n          })\n        })\n      };\n\n    case ENABLE_PIECE:\n      return {\n        ...state,\n        gameMap: Object.assign([...state.gameMap], {\n          [action.payload.x]: Object.assign([...state.gameMap[action.payload.x]], {\n            [action.payload.y]: {\n              ...state.gameMap[action.payload.x][action.payload.y],\n              enabled: true\n            }\n          })\n        })\n      };\n\n    case DISABLE_PIECE:\n      return {\n        ...state,\n        gameMap: Object.assign([...state.gameMap], {\n          [action.payload.x]: Object.assign([...state.gameMap[action.payload.x]], {\n            [action.payload.y]: {\n              ...state.gameMap[action.payload.x][action.payload.y],\n              enabled: false\n            }\n          })\n        })\n      };\n\n    case SET_LEGAL_MOVES: {\n      return {\n        ...state,\n        gameMap: state.gameMap.map((rows, posX) =>\n          rows.map((cell, posY) =>\n            action.payload.moves.includes(`${posX},${posY}`)\n              ? { ...cell, enabled: true }\n              : { ...cell, enabled: false }\n          )\n        )\n      };\n    }\n\n    case ENABLE_ALL_PIECES: {\n      return {\n        ...state,\n        gameMap: state.gameMap.map(rows => rows.map(cell => ({ ...cell, enabled: true })))\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n","import {\n  INIT_PLAYERS,\n  SET_PLAYER_COUNT,\n  SET_PLAYERS,\n  SET_TURN,\n  SET_GAME_STAGE,\n  SET_ACTIVE_PLAYER,\n  PLAYER_MOVE_ADD\n} from 'store/types/game';\n\nexport const initialState = {\n  playerCount: 1,\n  players: {},\n  turns: {\n    count: 1,\n    stage: ''\n  },\n  activeTurn: {\n    player: {},\n    moves: {\n      allowed: 0,\n      executed: 0\n    }\n  }\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case INIT_PLAYERS:\n      return { ...state, players: { ...action.payload } };\n    case SET_TURN:\n      return { ...state, turns: { ...state.turns, active: action.payload } };\n    case SET_PLAYER_COUNT:\n      return { ...state, playerCount: action.payload };\n    case SET_PLAYERS:\n      return { ...state, players: action.payload };\n    case SET_GAME_STAGE:\n      return { ...state, turns: { ...state.turns, stage: action.payload } };\n    case SET_ACTIVE_PLAYER:\n      return { ...state, activeTurn: action.payload };\n    case PLAYER_MOVE_ADD:\n      return {\n        ...state,\n        activeTurn: {\n          ...state.activeTurn,\n          moves: { ...state.activeTurn.moves, executed: state.activeTurn.moves.executed + 1 }\n        }\n      };\n    default:\n      return state;\n  }\n};\n","import { LOG_MESSAGE } from 'store/types/log';\n\nconst initialState = {\n  messages: ['Welcome!']\n};\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case LOG_MESSAGE:\n      return { messages: [...state.messages, payload] };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport boardReducer from './board';\nimport gameReducer from './game';\nimport logReducer from './log';\n\nexport const reducers = combineReducers({\n  board: boardReducer,\n  game: gameReducer,\n  messageLog: logReducer\n});\n","import { applyMiddleware, createStore, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport { reducers } from './reducers';\n\n// dev tool\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'views/App';\nimport { Provider } from 'react-redux';\nimport 'styles/global.scss';\n\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}